<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>myBrain Tools Reference Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --secondary: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-main: #ffffff;
            --bg-secondary: #f9fafb;
            --bg-code: #1e293b;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-secondary);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2rem 0;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Navigation */
        .nav-toggle {
            display: none;
            background: white;
            color: var(--primary);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
            box-shadow: var(--shadow);
        }

        .nav-toggle:hover {
            background: var(--bg-secondary);
        }

        /* Layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
            padding: 2rem;
        }

        /* Sidebar */
        .sidebar {
            position: sticky;
            top: 120px;
            height: fit-content;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
            background: var(--bg-main);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .sidebar h3 {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .toc {
            list-style: none;
        }

        .toc li {
            margin-bottom: 0.5rem;
        }

        .toc a {
            color: var(--text-primary);
            text-decoration: none;
            display: block;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .toc a:hover {
            background: var(--bg-secondary);
            color: var(--primary);
            padding-left: 1rem;
        }

        .toc a.active {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        .toc .sub-items {
            list-style: none;
            margin-left: 1rem;
            margin-top: 0.25rem;
        }

        .toc .sub-items a {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* Main Content */
        .main-content {
            background: var(--bg-main);
            border-radius: 12px;
            padding: 2.5rem;
            box-shadow: var(--shadow);
            min-height: 500px;
        }

        /* Typography */
        h2 {
            font-size: 2rem;
            margin-top: 3rem;
            margin-bottom: 1rem;
            color: var(--primary);
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border);
        }

        h2:first-child {
            margin-top: 0;
        }

        h3 {
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        h4 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        thead {
            background: var(--primary);
            color: white;
        }

        th {
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        tbody tr:hover {
            background: var(--bg-secondary);
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        /* Code Blocks */
        .code-block {
            background: var(--bg-code);
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            position: relative;
            box-shadow: var(--shadow);
        }

        .code-block code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
        }

        .code-header {
            background: #0f172a;
            color: #94a3b8;
            padding: 0.5rem 1rem;
            border-radius: 8px 8px 0 0;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: -0.5rem;
            font-weight: 600;
        }

        pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        code {
            color: var(--primary);
            background: var(--bg-secondary);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.875rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        .code-block code {
            background: transparent;
            padding: 0;
        }

        /* Collapsible Sections */
        .collapsible {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow: hidden;
        }

        .collapsible-header {
            padding: 1rem 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
            transition: background 0.2s;
        }

        .collapsible-header:hover {
            background: #f3f4f6;
        }

        .collapsible-header h4 {
            margin: 0;
            font-size: 1.1rem;
        }

        .collapsible-icon {
            font-size: 1.25rem;
            transition: transform 0.3s;
            color: var(--text-secondary);
        }

        .collapsible.open .collapsible-icon {
            transform: rotate(180deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible.open .collapsible-content {
            max-height: 5000px;
        }

        .collapsible-body {
            padding: 1.5rem;
            border-top: 1px solid var(--border);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-right: 0.5rem;
        }

        .badge-primary { background: #dbeafe; color: #1e40af; }
        .badge-success { background: #d1fae5; color: #065f46; }
        .badge-warning { background: #fef3c7; color: #92400e; }
        .badge-danger { background: #fee2e2; color: #991b1b; }
        .badge-info { background: #e0e7ff; color: #3730a3; }

        /* Lists */
        ul, ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        /* Cards */
        .card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: var(--shadow);
        }

        .card-header {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        /* Alert Boxes */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 4px solid;
        }

        .alert-info {
            background: #eff6ff;
            border-color: var(--primary);
            color: #1e40af;
        }

        .alert-success {
            background: #f0fdf4;
            border-color: var(--success);
            color: #065f46;
        }

        .alert-warning {
            background: #fffbeb;
            border-color: var(--warning);
            color: #92400e;
        }

        .alert-danger {
            background: #fef2f2;
            border-color: var(--danger);
            color: #991b1b;
        }

        /* Search */
        .search-container {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        /* Highlight */
        .highlight {
            background: #fef08a;
            padding: 0.1rem 0.2rem;
            border-radius: 2px;
        }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            font-size: 1.5rem;
        }

        .back-to-top.visible {
            opacity: 1;
            pointer-events: all;
        }

        .back-to-top:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 968px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 1000;
                max-height: none;
            }

            .sidebar.mobile-open {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .sidebar.mobile-open > div {
                background: white;
                max-width: 90%;
                max-height: 80%;
                overflow-y: auto;
                border-radius: 12px;
                padding: 2rem;
            }

            .nav-toggle {
                display: block;
            }

            .header h1 {
                font-size: 1.75rem;
            }

            .main-content {
                padding: 1.5rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            .table-container {
                font-size: 0.875rem;
            }
        }

        /* Syntax Highlighting */
        .keyword { color: #c792ea; }
        .string { color: #c3e88d; }
        .comment { color: #676e95; font-style: italic; }
        .number { color: #f78c6c; }
        .function { color: #82aaff; }
        .property { color: #f07178; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>üõ†Ô∏è myBrain Tools Reference Guide</h1>
            <p>Comprehensive documentation for user tools, admin tools, developer utilities, and integrated services</p>
            <button class="nav-toggle" onclick="toggleMobileNav()">üìë Table of Contents</button>
        </div>
    </div>

    <div class="container">
        <aside class="sidebar" id="sidebar">
            <div>
                <div class="search-container">
                    <span class="search-icon">üîç</span>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search documentation...">
                </div>

                <h3>Navigation</h3>
                <ul class="toc" id="toc">
                    <li><a href="#overview">Tool Categories Overview</a></li>
                    <li><a href="#user-facing">User-Facing Tools</a></li>
                    <li>
                        <a href="#admin-tools">Admin/Management Tools</a>
                        <ul class="sub-items">
                            <li><a href="#user-management">User Management</a></li>
                            <li><a href="#moderation">Moderation Tools</a></li>
                            <li><a href="#analytics">Analytics & Monitoring</a></li>
                            <li><a href="#content-mgmt">Content Management</a></li>
                            <li><a href="#configuration">Configuration Tools</a></li>
                            <li><a href="#database">Database Management</a></li>
                            <li><a href="#communication">Communication Tools</a></li>
                        </ul>
                    </li>
                    <li><a href="#developer-tools">Developer/Webmaster Tools</a></li>
                    <li><a href="#utilities">Integrated Utilities</a></li>
                    <li><a href="#recommendations">myBrain Recommendations</a></li>
                    <li><a href="#quick-reference">Quick Reference Tables</a></li>
                </ul>
            </div>
        </aside>

        <main class="main-content" id="mainContent">
            <section id="overview">
                <h2>Tool Categories Overview</h2>
                <p>In application development, "tools" typically fall into four main categories, each serving different users and purposes.</p>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Primary Users</th>
                                <th>Purpose</th>
                                <th>Examples</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>User-Facing Tools</strong></td>
                                <td>End users</td>
                                <td>Complete tasks within the app</td>
                                <td>Text editors, calculators, file pickers</td>
                            </tr>
                            <tr>
                                <td><strong>Admin/Management Tools</strong></td>
                                <td>Administrators</td>
                                <td>Manage users, content, and system health</td>
                                <td>User management, moderation, analytics</td>
                            </tr>
                            <tr>
                                <td><strong>Developer/Webmaster Tools</strong></td>
                                <td>Developers/Ops</td>
                                <td>Debug, monitor, and maintain the system</td>
                                <td>Logs, health checks, data migrations</td>
                            </tr>
                            <tr>
                                <td><strong>Integrated Utilities</strong></td>
                                <td>All users (invisible)</td>
                                <td>Support app functionality behind the scenes</td>
                                <td>API clients, image processors, validators</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="user-facing">
                <h2>User-Facing Tools</h2>
                <p>Tools that end users interact with directly to accomplish their goals within the myBrain platform.</p>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üìù Content Creation Tools</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="card">
                                <div class="card-header">Notes Editor</div>
                                <ul>
                                    <li>Rich text formatting</li>
                                    <li>Tag assignment</li>
                                    <li>Life area categorization</li>
                                    <li>Auto-save functionality</li>
                                </ul>
                            </div>

                            <div class="card">
                                <div class="card-header">Task Creator</div>
                                <ul>
                                    <li>Due date picker</li>
                                    <li>Priority selection</li>
                                    <li>Project assignment</li>
                                    <li>Reminder settings</li>
                                </ul>
                            </div>

                            <div class="card">
                                <div class="card-header">Project Dashboard</div>
                                <ul>
                                    <li>Task board (Kanban)</li>
                                    <li>Link management</li>
                                    <li>Progress tracking</li>
                                    <li>Team collaboration</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üóÇÔ∏è Organization Tools</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <p>Tools for organizing and categorizing content:</p>
                            <ul>
                                <li><strong>Tag Manager</strong> - Create, edit, and organize tags with hierarchies</li>
                                <li><strong>Life Areas Manager</strong> - Define life areas, set goals, track balance</li>
                                <li><strong>Folder System</strong> - Create folder hierarchies for file organization</li>
                                <li><strong>Saved Filters</strong> - Save and reuse search criteria</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üìä Visualization Tools</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <p>Tools for viewing and understanding data:</p>
                            <ul>
                                <li><strong>Calendar View</strong> - Month/week/day views with drag-and-drop scheduling</li>
                                <li><strong>Dashboard Widgets</strong> - Today's tasks, upcoming events, recent notes</li>
                                <li><strong>Project Progress</strong> - Visual progress tracking and metrics</li>
                                <li><strong>Weather Widget</strong> - Location-based weather information</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="admin-tools">
                <h2>Admin/Management Tools</h2>
                <p>Critical tools for administrators to manage the platform, users, and content. These ensure platform health and safety.</p>

                <div id="user-management">
                    <h3>1. User Management Tools</h3>

                    <div class="alert alert-info">
                        <strong>Location:</strong> <code>/admin/users</code><br>
                        <strong>Access:</strong> Admin role required
                    </div>

                    <div class="collapsible open">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>User Administration Panel</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="code-header">User Search & Filtering Capabilities</div>
                                <div class="code-block">
<code><span class="comment">// User Search & Filtering</span>
- Search by email, name, username
- Filter by role (user, moderator, admin)
- Filter by status (active, suspended, banned)
- Filter by signup date range
- Sort by last login, signup date, storage usage

<span class="comment">// User Actions</span>
- View user profile and activity
- Edit user details (email, name, role)
- Toggle feature flags per user
- Reset user password
- Send email to user
- Export user data
- Delete user account (<span class="keyword">with</span> confirmation)

<span class="comment">// Bulk Operations</span>
- Select multiple users
- Bulk role changes
- Bulk feature flag updates
- Export selected users to CSV</code>
                                </div>

                                <p><strong>Example Use Cases:</strong></p>
                                <ul>
                                    <li>Find all users who signed up last month</li>
                                    <li>Identify users with high storage usage</li>
                                    <li>Grant beta features to specific users</li>
                                    <li>Clean up inactive accounts</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>Role & Permission Manager</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/roles</code>
                                </div>

                                <div class="code-header">Permission Configuration Example</div>
                                <div class="code-block">
<code><span class="keyword">Role:</span> Premium User
- maxNotes: <span class="number">10000</span>
- maxProjects: <span class="number">100</span>
- maxFileSize: <span class="number">100</span>MB
- totalStorage: <span class="number">10</span>GB
- features: [<span class="string">'analytics'</span>, <span class="string">'exports'</span>, <span class="string">'api_access'</span>]
- rateLimit: <span class="number">1000</span> requests/hour

<span class="keyword">Role:</span> Free User
- maxNotes: <span class="number">100</span>
- maxProjects: <span class="number">5</span>
- maxFileSize: <span class="number">5</span>MB
- totalStorage: <span class="number">500</span>MB
- features: [<span class="string">'basic'</span>]
- rateLimit: <span class="number">100</span> requests/hour</code>
                                </div>

                                <p><strong>Use Cases:</strong></p>
                                <ul>
                                    <li>Create "Premium" tier with higher limits</li>
                                    <li>Define "Beta Tester" role with experimental features</li>
                                    <li>Set up "Read-Only" role for auditors</li>
                                    <li>Configure "Organization Admin" for team leaders</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="moderation">
                    <h3>2. Moderation Tools</h3>
                    <span class="badge badge-danger">Critical</span>
                    <span class="badge badge-warning">High Priority</span>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>Content Moderation Dashboard</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/inbox</code> (Admin Inbox)
                                </div>

                                <div class="code-header">Report Management Capabilities</div>
                                <div class="code-block">
<code><span class="comment">// Report Management</span>
- View all user reports
- Filter by:
  * Report type (spam, harassment, inappropriate)
  * Status (pending, reviewing, resolved, dismissed)
  * Reported content type (note, user, message)
  * Date range
  * Reporter

<span class="comment">// Report Actions</span>
- Review reported content
- View reporter history
- View reported user history
- Mark as spam/not spam
- Delete content
- Warn user
- Suspend user
- Ban user
- Dismiss report
- Add moderator notes</code>
                                </div>

                                <div class="card">
                                    <div class="card-header">Example Moderation Workflow</div>
                                    <ol>
                                        <li>User reports inappropriate note</li>
                                        <li>Admin reviews report in inbox</li>
                                        <li>Admin views the note content</li>
                                        <li>Admin checks reported user's history</li>
                                        <li>Admin takes action (delete note, warn user)</li>
                                        <li>Reporter receives notification of action</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>User Moderation Panel</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/users/{userId}</code> (Moderation Tab)
                                </div>

                                <h4>Moderation Actions</h4>

                                <div class="card">
                                    <div class="card-header">‚ö†Ô∏è Warn User</div>
                                    <ul>
                                        <li>Select warning template</li>
                                        <li>Add custom message</li>
                                        <li>Set severity level</li>
                                        <li>Email notification</li>
                                        <li>Log to moderation history</li>
                                    </ul>
                                </div>

                                <div class="card">
                                    <div class="card-header">‚è∏Ô∏è Suspend User</div>
                                    <ul>
                                        <li>Set suspension duration (1 day, 7 days, 30 days, custom)</li>
                                        <li>Suspension reason (required)</li>
                                        <li>Hide user content during suspension</li>
                                        <li>Email notification</li>
                                        <li>Automatic unsuspension</li>
                                    </ul>
                                </div>

                                <div class="card">
                                    <div class="card-header">üö´ Ban User</div>
                                    <ul>
                                        <li>Permanent account ban</li>
                                        <li>Ban reason (required)</li>
                                        <li>Delete all user content (optional)</li>
                                        <li>IP ban (optional)</li>
                                        <li>Email notification</li>
                                        <li>Prevent re-registration</li>
                                    </ul>
                                </div>

                                <div class="code-header">Warning Templates</div>
                                <div class="code-block">
<code><span class="string">"Spam Content"</span>: Generic spam warning
<span class="string">"Inappropriate Language"</span>: Community guidelines reminder
<span class="string">"Copyright Violation"</span>: DMCA warning
<span class="string">"Multiple Reports"</span>: Pattern of violations

<span class="comment">// Suspension Reasons</span>
- Repeated policy violations
- Spam posting
- Harassment of other users
- Copyright infringement
- Terms of service violation

<span class="comment">// Ban Reasons</span>
- Severe harassment
- Illegal content
- Evading previous suspension
- Automated/bot activity
- Fraudulent activity</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="analytics">
                    <h3>3. Analytics & Monitoring Tools</h3>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>üìä Analytics Dashboard</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/analytics</code>
                                </div>

                                <div class="code-header">Analytics Capabilities</div>
                                <div class="code-block">
<code><span class="comment">// User Metrics</span>
- Total users (active, inactive)
- New signups (daily, weekly, monthly)
- User retention rates
- Churn analysis
- Geographic distribution
- Device/browser breakdown

<span class="comment">// Content Metrics</span>
- Total notes, tasks, projects created
- Average items per user
- Most active users
- Content creation trends
- Popular tags and life areas
- File storage usage

<span class="comment">// Feature Usage</span>
- Feature adoption rates
- Most used features
- Least used features
- Feature engagement over time
- A/B test results

<span class="comment">// System Health</span>
- API response times
- Error rates by endpoint
- Database query performance
- Storage usage trends
- Active WebSocket connections</code>
                                </div>

                                <h4>Visualization Examples</h4>

                                <div class="card">
                                    <div class="card-header">User Growth Chart</div>
                                    <p>Line chart showing daily signups over 90 days</p>
                                </div>

                                <div class="card">
                                    <div class="card-header">Feature Adoption</div>
                                    <p>Bar chart showing percentage of users using each feature:</p>
                                    <ul>
                                        <li>Notes: 95%</li>
                                        <li>Tasks: 78%</li>
                                        <li>Projects: 45%</li>
                                        <li>Calendar: 62%</li>
                                        <li>Files: 34%</li>
                                    </ul>
                                </div>

                                <p><strong>Use Cases:</strong></p>
                                <ul>
                                    <li>Identify which features need improvement (low adoption)</li>
                                    <li>Detect unusual activity patterns (spam, abuse)</li>
                                    <li>Plan infrastructure scaling (growth trends)</li>
                                    <li>Report to stakeholders (metrics dashboard)</li>
                                    <li>Optimize performance (slow endpoints)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>üìã System Logs Viewer</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/logs</code>
                                </div>

                                <div class="code-header">Example Log Queries</div>
                                <div class="code-block">
<code><span class="comment">// Find all 500 errors in last 24h</span>
Level: error
Status: <span class="number">500</span>
Time: Last <span class="number">24</span> hours

<span class="comment">// Track specific user's activity</span>
User ID: 507f1f77bcf86cd799439011
Time: Last <span class="number">7</span> days

<span class="comment">// Slow API endpoints</span>
Response time: > <span class="number">2000</span>ms
Time: Last hour

<span class="comment">// Failed login attempts</span>
Endpoint: /api/auth/login
Status: <span class="number">401</span>
Time: Last hour</code>
                                </div>

                                <p><strong>Log Display Fields:</strong></p>
                                <ul>
                                    <li>Timestamp</li>
                                    <li>Log level (info, warn, error)</li>
                                    <li>User ID and IP address</li>
                                    <li>HTTP method + endpoint</li>
                                    <li>Status code and response time</li>
                                    <li>Error message (if applicable)</li>
                                    <li>Request ID for tracing</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="content-mgmt">
                    <h3>4. Content Management Tools</h3>
                    <span class="badge badge-info">Future Enhancement</span>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>Content Moderation Scenarios</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="card">
                                    <div class="card-header">Scenario 1: DMCA Takedown</div>
                                    <ol>
                                        <li>Receive DMCA notice for copyrighted image</li>
                                        <li>Search for image by hash/URL</li>
                                        <li>Find all notes/projects using image</li>
                                        <li>Delete image and references</li>
                                        <li>Warn/suspend uploading user</li>
                                        <li>Log action for legal record</li>
                                    </ol>
                                </div>

                                <div class="card">
                                    <div class="card-header">Scenario 2: Spam Cleanup</div>
                                    <ol>
                                        <li>Identify spam account (user report)</li>
                                        <li>Review all user's content</li>
                                        <li>Confirm spam pattern</li>
                                        <li>Bulk delete all spam content</li>
                                        <li>Ban user account</li>
                                        <li>Report IP for blocking</li>
                                    </ol>
                                </div>

                                <div class="card">
                                    <div class="card-header">Scenario 3: User Data Request (GDPR)</div>
                                    <ol>
                                        <li>User requests data export</li>
                                        <li>Search all content by user ID</li>
                                        <li>Export notes, tasks, projects, files</li>
                                        <li>Generate downloadable archive</li>
                                        <li>Send secure link to user</li>
                                        <li>Log data export event</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="configuration">
                    <h3>5. Configuration Tools</h3>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>‚öôÔ∏è System Settings Manager</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/settings</code>
                                </div>

                                <div class="code-header">Example System Configuration</div>
                                <div class="code-block">
<code><span class="comment">// Maintenance Mode</span>
{
  enabled: <span class="keyword">true</span>,
  message: <span class="string">"We're upgrading myBrain! Back in 30 minutes."</span>,
  allowedUsers: [<span class="string">'admin@mybrain.com'</span>],
  estimatedEnd: <span class="string">'2024-01-20T15:00:00Z'</span>
}

<span class="comment">// Signup Control</span>
{
  mode: <span class="string">'invite-only'</span>, <span class="comment">// or 'open' or 'closed'</span>
  requireEmailVerification: <span class="keyword">true</span>,
  allowedDomains: [<span class="string">'company.com'</span>],
  waitlistEnabled: <span class="keyword">true</span>
}

<span class="comment">// Default Limits (Free Tier)</span>
{
  maxNotes: <span class="number">100</span>,
  maxTasks: <span class="number">50</span>,
  maxProjects: <span class="number">5</span>,
  maxFileSize: <span class="number">5242880</span>, <span class="comment">// 5MB in bytes</span>
  totalStorage: <span class="number">524288000</span>, <span class="comment">// 500MB</span>
  dailyApiCalls: <span class="number">1000</span>
}</code>
                                </div>

                                <p><strong>Available Settings Categories:</strong></p>
                                <ul>
                                    <li>Global settings (site name, maintenance mode, signup)</li>
                                    <li>Feature flags (enable/disable features globally)</li>
                                    <li>Email settings (SMTP, templates, notifications)</li>
                                    <li>Storage settings (S3, CDN, image optimization)</li>
                                    <li>Security settings (password requirements, 2FA, rate limiting)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>üé® Sidebar Configuration Manager</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/sidebar</code>
                                </div>

                                <p><strong>Capabilities:</strong></p>
                                <ul>
                                    <li>Add/remove navigation items</li>
                                    <li>Reorder menu items</li>
                                    <li>Set default collapsed state</li>
                                    <li>Configure item visibility by role</li>
                                    <li>Set icons and labels</li>
                                    <li>Live preview of changes</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="database">
                    <h3>6. Database Management Tools</h3>
                    <span class="badge badge-warning">Advanced</span>
                    <span class="badge badge-danger">Developer Only</span>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>Database Maintenance Tasks</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="code-header">Example Maintenance Operations</div>
                                <div class="code-block">
<code><span class="comment">// Clean Up Orphaned Files</span>
Task: Find files <span class="keyword">with</span> no owner or deleted owner
Action: Delete file records and S3 objects
Schedule: Weekly

<span class="comment">// Reindex Search</span>
Task: Rebuild search indexes <span class="keyword">for</span> notes/tasks
When: After large data imports
Estimated time: <span class="number">5-10</span> minutes <span class="keyword">for</span> 100k items

<span class="comment">// Data Integrity Check</span>
Task: Verify all references are valid
  - Tasks reference valid projects
  - Notes reference valid tags
  - Users reference valid life areas
Action: Report inconsistencies, offer auto-fix
Schedule: Daily at <span class="number">3</span> AM

<span class="comment">// Storage Audit</span>
Task: Calculate actual storage per user
Action: Update user storage quotas
Compare <span class="keyword">with</span> S3 actual usage
Schedule: Daily</code>
                                </div>

                                <div class="alert alert-warning">
                                    <strong>‚ö†Ô∏è Warning:</strong> Database operations can be destructive. Always test in staging first and ensure backups are current.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="communication">
                    <h3>7. Communication Tools</h3>

                    <div class="collapsible">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <h4>üì¢ Notification Manager</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-body">
                                <div class="alert alert-info">
                                    <strong>Location:</strong> <code>/admin/notifications</code>
                                </div>

                                <div class="code-header">Example Notifications</div>
                                <div class="code-block">
<code><span class="comment">// New Feature Announcement</span>
{
  type: <span class="string">'info'</span>,
  title: <span class="string">'New Feature: Calendar View'</span>,
  message: <span class="string">'Check out the new calendar view!'</span>,
  action: {
    label: <span class="string">'Try it now'</span>,
    link: <span class="string">'/calendar'</span>
  },
  recipients: <span class="string">'all'</span>,
  expiresAt: <span class="string">'2024-02-01'</span>
}

<span class="comment">// Maintenance Warning</span>
{
  type: <span class="string">'warning'</span>,
  title: <span class="string">'Scheduled Maintenance'</span>,
  message: <span class="string">'myBrain will be down Saturday 3-5 AM EST.'</span>,
  recipients: <span class="string">'all'</span>,
  dismissible: <span class="keyword">false</span>,
  expiresAt: <span class="string">'2024-01-21T05:00:00Z'</span>
}

<span class="comment">// Beta Feature Invitation</span>
{
  type: <span class="string">'success'</span>,
  title: <span class="string">'You\'re Invited to Beta Test!'</span>,
  message: <span class="string">'Try our new AI-powered task suggestions.'</span>,
  action: {
    label: <span class="string">'Enable Beta'</span>,
    link: <span class="string">'/settings?feature=ai-suggestions'</span>
  },
  recipients: { role: <span class="string">'beta-tester'</span> },
  expiresAt: <span class="string">'2024-03-01'</span>
}</code>
                                </div>

                                <p><strong>Capabilities:</strong></p>
                                <ul>
                                    <li>Send to all users, specific role, or specific users</li>
                                    <li>Schedule for later delivery</li>
                                    <li>Multiple notification types (info, warning, alert, success)</li>
                                    <li>Track open and click rates for email campaigns</li>
                                    <li>Create system announcements with expiration dates</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="developer-tools">
                <h2>Developer/Webmaster Tools</h2>
                <p>Tools for developers and system administrators to maintain and debug the application.</p>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üîß API Testing & Health Checks</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="code-header">Health Check Endpoint</div>
                            <div class="code-block">
<code><span class="keyword">GET</span> /api/health

<span class="comment">// Response:</span>
{
  status: <span class="string">'healthy'</span>,
  timestamp: <span class="string">'2024-01-20T12:00:00Z'</span>,
  services: {
    database: <span class="string">'connected'</span>,
    s3: <span class="string">'connected'</span>,
    redis: <span class="string">'connected'</span>
  },
  version: <span class="string">'1.2.3'</span>
}</code>
                            </div>

                            <p><strong>API Explorer Features:</strong></p>
                            <ul>
                                <li>Browse all API endpoints</li>
                                <li>Test requests with sample data</li>
                                <li>View request/response details</li>
                                <li>Save and reuse test cases</li>
                                <li>Generate API documentation</li>
                                <li>Export to Postman/Insomnia</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üìà Performance Monitoring</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <p><strong>APM (Application Performance Monitoring):</strong></p>
                            <ul>
                                <li>Request duration tracking</li>
                                <li>Memory and CPU usage</li>
                                <li>Database query times</li>
                                <li>External API call times</li>
                                <li>Cache hit rates</li>
                            </ul>

                            <p><strong>Real User Monitoring (RUM):</strong></p>
                            <ul>
                                <li>Page load times</li>
                                <li>Time to interactive</li>
                                <li>Largest contentful paint</li>
                                <li>Cumulative layout shift</li>
                                <li>First input delay</li>
                            </ul>

                            <p><strong>Error Tracking:</strong></p>
                            <ul>
                                <li>JavaScript errors</li>
                                <li>API errors</li>
                                <li>Uncaught exceptions</li>
                                <li>Error frequency and affected users</li>
                                <li>Stack traces for debugging</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üõ†Ô∏è Development Utilities</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="code-header">Useful Development Commands</div>
                            <div class="code-block">
<code><span class="comment">// Database Seeding</span>
npm run seed:dev
<span class="comment">// Creates sample users, notes, tasks, projects</span>

<span class="comment">// Data Migration</span>
npm run migrate:latest
<span class="comment">// Run pending migrations, update schema</span>

<span class="comment">// Cache Management</span>
- Clear all caches
- Clear specific cache keys
- View cache statistics
- Warm up caches</code>
                            </div>

                            <p><strong>Debug Mode Features:</strong></p>
                            <ul>
                                <li>Verbose logging</li>
                                <li>Request/response logging</li>
                                <li>SQL query logging</li>
                                <li>Performance timing</li>
                                <li>Memory profiling</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="utilities">
                <h2>Integrated Utilities</h2>
                <p>Behind-the-scenes utilities that power the application. These are invisible to users but critical for functionality.</p>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üåê API Client</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-info">
                                <strong>File:</strong> <code>myBrain-web/src/lib/api.js</code>
                            </div>

                            <div class="code-header">Usage Example</div>
                            <div class="code-block">
<code><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">'@/lib/api'</span>;

<span class="comment">// Centralized HTTP client with automatic JWT handling</span>
<span class="keyword">const</span> notes = <span class="keyword">await</span> api.<span class="function">get</span>(<span class="string">'/notes'</span>);
<span class="keyword">const</span> newNote = <span class="keyword">await</span> api.<span class="function">post</span>(<span class="string">'/notes'</span>, { title, content });</code>
                            </div>

                            <p><strong>Features:</strong></p>
                            <ul>
                                <li>Automatic JWT token handling</li>
                                <li>Request/response interceptors</li>
                                <li>Centralized error handling</li>
                                <li>Retry logic for failed requests</li>
                                <li>Request cancellation support</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üñºÔ∏è Image Processing</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-info">
                                <strong>File:</strong> <code>myBrain-api/src/services/imageProcessingService.js</code>
                            </div>

                            <div class="card">
                                <div class="card-header">Automatic Optimization</div>
                                <p><strong>Original:</strong> 5MB JPEG (4000x3000)</p>
                                <p><strong>Processed:</strong> 500KB WebP (1200x900) + 50KB thumbnail (300x225)</p>
                            </div>

                            <p><strong>Features:</strong></p>
                            <ul>
                                <li>Resize to maximum dimensions</li>
                                <li>Compress images efficiently</li>
                                <li>Generate thumbnails</li>
                                <li>Convert to WebP format</li>
                                <li>Extract EXIF data</li>
                                <li>Remove sensitive metadata</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üìÖ Date Utilities</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-info">
                                <strong>File:</strong> <code>myBrain-web/src/lib/dateUtils.js</code>
                            </div>

                            <div class="code-header">Usage Examples</div>
                            <div class="code-block">
<code><span class="function">formatDate</span>(date, <span class="string">'short'</span>) <span class="comment">// "Jan 20"</span>
<span class="function">formatDate</span>(date, <span class="string">'long'</span>) <span class="comment">// "January 20, 2024"</span>
<span class="function">formatRelative</span>(date) <span class="comment">// "2 hours ago"</span>
<span class="function">isOverdue</span>(task) <span class="comment">// true/false</span>
<span class="function">getDaysUntil</span>(date) <span class="comment">// 5</span></code>
                            </div>

                            <p>Used throughout the app for consistent date display and calculations.</p>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üíæ Auto-Save Hook</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-info">
                                <strong>File:</strong> <code>myBrain-web/src/hooks/useAutoSave.js</code>
                            </div>

                            <div class="code-header">Usage Example</div>
                            <div class="code-block">
<code><span class="keyword">const</span> { saveStatus } = <span class="function">useAutoSave</span>(data, saveFunction, {
  delay: <span class="number">1000</span>, <span class="comment">// 1 second debounce</span>
  onSuccess: () => toast.<span class="function">success</span>(<span class="string">'Saved'</span>),
  onError: (err) => toast.<span class="function">error</span>(<span class="string">'Save failed'</span>)
});

<span class="comment">// Shows: "Saving..." ‚Üí "Saved" ‚Üí "All changes saved"</span></code>
                            </div>

                            <p>Provides automatic saving for notes, tasks, and project editors with visual feedback.</p>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üîå WebSocket Manager</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-info">
                                <strong>File:</strong> <code>myBrain-web/src/hooks/useWebSocket.jsx</code>
                            </div>

                            <div class="code-header">Usage Example</div>
                            <div class="code-block">
<code><span class="keyword">const</span> { socket, connected } = <span class="function">useWebSocket</span>();

<span class="comment">// Listen for events</span>
socket.<span class="function">on</span>(<span class="string">'notification'</span>, handleNotification);

<span class="comment">// Send events</span>
socket.<span class="function">emit</span>(<span class="string">'message'</span>, { to, content });</code>
                            </div>

                            <p><strong>Features:</strong></p>
                            <ul>
                                <li>Automatic reconnection on disconnect</li>
                                <li>Heartbeat monitoring</li>
                                <li>Event subscriptions and unsubscriptions</li>
                                <li>Authentication token management</li>
                                <li>Error handling and retry logic</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>üìù Logger</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-info">
                                <strong>File:</strong> <code>myBrain-api/src/utils/logger.js</code>
                            </div>

                            <div class="code-header">Usage Examples</div>
                            <div class="code-block">
<code>logger.<span class="function">info</span>(<span class="string">'User logged in'</span>, { userId, ip });
logger.<span class="function">error</span>(<span class="string">'Database error'</span>, { error, query });
logger.<span class="function">warn</span>(<span class="string">'Rate limit approaching'</span>, { userId, count });</code>
                            </div>

                            <p><strong>Features:</strong></p>
                            <ul>
                                <li>Log levels (info, warn, error)</li>
                                <li>Structured logging (JSON format)</li>
                                <li>Configurable sampling rate</li>
                                <li>Context injection (requestId, userId)</li>
                                <li>Automatic log rotation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="recommendations">
                <h2>myBrain-Specific Recommendations</h2>

                <h3>Priority Tools to Implement Next</h3>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Tool</th>
                                <th>Priority</th>
                                <th>Complexity</th>
                                <th>Impact</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>User management</td>
                                <td><span class="badge badge-danger">Critical</span></td>
                                <td>Low</td>
                                <td>High</td>
                                <td>‚úÖ Implemented</td>
                            </tr>
                            <tr>
                                <td>Moderation tools</td>
                                <td><span class="badge badge-danger">Critical</span></td>
                                <td>Medium</td>
                                <td>High</td>
                                <td>‚úÖ Implemented</td>
                            </tr>
                            <tr>
                                <td>Analytics dashboard</td>
                                <td><span class="badge badge-warning">High</span></td>
                                <td>Medium</td>
                                <td>High</td>
                                <td>üü° Basic version</td>
                            </tr>
                            <tr>
                                <td>System logs viewer</td>
                                <td><span class="badge badge-warning">High</span></td>
                                <td>Low</td>
                                <td>Medium</td>
                                <td>‚úÖ Implemented</td>
                            </tr>
                            <tr>
                                <td>Backup tools</td>
                                <td><span class="badge badge-warning">High</span></td>
                                <td>Medium</td>
                                <td>High</td>
                                <td>‚ùå Not implemented</td>
                            </tr>
                            <tr>
                                <td>Database admin</td>
                                <td><span class="badge badge-warning">High</span></td>
                                <td>High</td>
                                <td>Medium</td>
                                <td>üü° Planned</td>
                            </tr>
                            <tr>
                                <td>Notification manager</td>
                                <td><span class="badge badge-success">Medium</span></td>
                                <td>Low</td>
                                <td>Medium</td>
                                <td>üü° Basic version</td>
                            </tr>
                            <tr>
                                <td>A/B testing</td>
                                <td><span class="badge badge-success">Low</span></td>
                                <td>High</td>
                                <td>Medium</td>
                                <td>‚ùå Not needed yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Tools to Avoid (Unnecessary Complexity)</h3>

                <div class="alert alert-danger">
                    <strong>‚ùå Custom CMS Builder</strong><br>
                    myBrain is user-generated content, not a CMS. Existing models (Note, Task, Project) are sufficient.
                </div>

                <div class="alert alert-danger">
                    <strong>‚ùå Advanced Workflow Automation</strong><br>
                    IFTTT-style automation is overkill for MVP. Focus on core features first.
                </div>

                <div class="alert alert-danger">
                    <strong>‚ùå Built-in Payment Processing</strong><br>
                    Use Stripe/Paddle if implementing paid plans. Don't build custom billing system.
                </div>

                <div class="alert alert-danger">
                    <strong>‚ùå Custom Search Engine</strong><br>
                    MongoDB text search is sufficient for now. Consider Algolia/Elasticsearch only if search becomes a problem.
                </div>

                <h3>Best Practices for Adding New Tools</h3>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>1. Follow Existing Patterns</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="code-header">Admin Tool Structure</div>
                            <div class="code-block">
<code>myBrain-web/src/features/admin/
‚îú‚îÄ‚îÄ AdminToolPage.jsx          <span class="comment">// Page component</span>
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ToolPanel.jsx          <span class="comment">// Main UI</span>
‚îÇ   ‚îú‚îÄ‚îÄ ToolActions.jsx        <span class="comment">// Action buttons</span>
‚îÇ   ‚îî‚îÄ‚îÄ ToolModal.jsx          <span class="comment">// Modals</span>
‚îî‚îÄ‚îÄ hooks/
    ‚îî‚îÄ‚îÄ useToolData.js         <span class="comment">// TanStack Query hooks</span>

myBrain-api/src/
‚îú‚îÄ‚îÄ routes/toolRoutes.js       <span class="comment">// Express routes</span>
‚îú‚îÄ‚îÄ services/toolService.js    <span class="comment">// Business logic</span>
‚îî‚îÄ‚îÄ models/ToolModel.js        <span class="comment">// Mongoose model</span></code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>2. Reuse Existing Components</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="code-header">Always Import Existing Components</div>
                            <div class="code-block">
<code><span class="keyword">import</span> BaseModal <span class="keyword">from</span> <span class="string">'@/components/ui/BaseModal'</span>;
<span class="keyword">import</span> ConfirmDialog <span class="keyword">from</span> <span class="string">'@/components/ui/ConfirmDialog'</span>;
<span class="keyword">import</span> { useToast } <span class="keyword">from</span> <span class="string">'@/hooks/useToast'</span>;
<span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">'@/lib/api'</span>;

<span class="comment">// Don't create new modals, toasts, or API clients!</span></code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>3. Security First</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="code-header">Security Checklist</div>
                            <div class="code-block">
<code><span class="comment">// All admin routes must check permissions</span>
router.<span class="function">get</span>(<span class="string">'/admin/tool'</span>, requireAuth, requireAdmin, handler);

<span class="comment">// Validate all inputs</span>
<span class="keyword">const</span> { error } = toolSchema.<span class="function">validate</span>(req.body);
<span class="keyword">if</span> (error) <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">400</span>).<span class="function">json</span>({ error });

<span class="comment">// Log all admin actions</span>
logger.<span class="function">info</span>(<span class="string">'Admin action: tool executed'</span>, {
  adminId: req.user._id,
  action: <span class="string">'delete_user'</span>,
  targetId: targetUserId
});</code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>4. Make It Auditable</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="code-header">Audit Trail Example</div>
                            <div class="code-block">
<code><span class="comment">// Every admin action should create a log entry</span>
<span class="keyword">const</span> log = <span class="keyword">await</span> ModerationAction.<span class="function">create</span>({
  moderator: req.user._id,
  action: <span class="string">'suspend_user'</span>,
  targetUser: userId,
  reason: req.body.reason,
  metadata: {
    duration: req.body.duration,
    previousStatus: user.status
  }
});

<span class="comment">// Users should be able to see actions taken on their account</span></code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>5. Test Thoroughly</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-body">
                            <div class="alert alert-warning">
                                <strong>‚ö†Ô∏è Admin tools are high-risk</strong> - Test carefully before deploying!
                            </div>

                            <div class="code-header">Example Test Suite</div>
                            <div class="code-block">
<code><span class="function">describe</span>(<span class="string">'DELETE /admin/users/:id'</span>, () => {
  <span class="function">it</span>(<span class="string">'should delete user and all content'</span>, <span class="keyword">async</span> () => {
    <span class="comment">// Test actual deletion</span>
  });

  <span class="function">it</span>(<span class="string">'should require admin role'</span>, <span class="keyword">async</span> () => {
    <span class="comment">// Test authorization</span>
  });

  <span class="function">it</span>(<span class="string">'should not allow self-deletion'</span>, <span class="keyword">async</span> () => {
    <span class="comment">// Test edge cases</span>
  });

  <span class="function">it</span>(<span class="string">'should log the deletion'</span>, <span class="keyword">async</span> () => {
    <span class="comment">// Test auditability</span>
  });
});</code>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="quick-reference">
                <h2>Quick Reference Tables</h2>

                <h3>When to Build vs Buy</h3>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Need</th>
                                <th>Build</th>
                                <th>Buy/Integrate</th>
                                <th>Recommended</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>User auth</td>
                                <td>‚ùå</td>
                                <td>‚úÖ Clerk, Auth0</td>
                                <td>Currently built (JWT) - keep it</td>
                            </tr>
                            <tr>
                                <td>Email sending</td>
                                <td>‚ùå</td>
                                <td>‚úÖ SendGrid, Mailgun</td>
                                <td><strong>Buy</strong></td>
                            </tr>
                            <tr>
                                <td>Analytics</td>
                                <td>üü° Basic</td>
                                <td>‚úÖ Advanced</td>
                                <td>Build basic, integrate advanced later</td>
                            </tr>
                            <tr>
                                <td>Monitoring</td>
                                <td>‚ùå</td>
                                <td>‚úÖ DataDog, New Relic</td>
                                <td><strong>Buy</strong></td>
                            </tr>
                            <tr>
                                <td>Search</td>
                                <td>üü° Simple</td>
                                <td>‚úÖ Algolia</td>
                                <td>MongoDB search OK for now</td>
                            </tr>
                            <tr>
                                <td>File storage</td>
                                <td>‚ùå</td>
                                <td>‚úÖ S3, Cloudflare R2</td>
                                <td><strong>Buy</strong> (already using S3)</td>
                            </tr>
                            <tr>
                                <td>Image processing</td>
                                <td>üü° Basic</td>
                                <td>‚úÖ Cloudinary, imgix</td>
                                <td>Currently built (sharp) - OK</td>
                            </tr>
                            <tr>
                                <td>Payments</td>
                                <td>‚ùå</td>
                                <td>‚úÖ Stripe, Paddle</td>
                                <td><strong>Buy when needed</strong></td>
                            </tr>
                            <tr>
                                <td>Chat/messaging</td>
                                <td>üü° Basic</td>
                                <td>‚úÖ Stream, PubNub</td>
                                <td>Built (Socket.io) - OK for MVP</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Tool Access Levels</h3>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Tool Category</th>
                                <th>User</th>
                                <th>Moderator</th>
                                <th>Admin</th>
                                <th>Developer</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Content creation tools</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Organization tools</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Basic analytics (own data)</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Report content</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Review reports</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Warn users</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Suspend users</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Ban users</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>User management</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>System analytics</td>
                                <td>‚ùå</td>
                                <td>üü° Limited</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Logs viewer</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Database admin</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Feature flags</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>System settings</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="alert alert-success" style="margin-top: 2rem;">
                    <h4 style="margin-top: 0;">Conclusion</h4>
                    <p><strong>Current State:</strong> Strong foundation with user-facing tools and basic admin tools</p>
                    <p><strong>Next Steps:</strong> Enhance analytics, add backups, improve monitoring</p>
                    <p><strong>Long-term:</strong> Build tools as needed, integrate external services for complex needs</p>
                    <p style="margin-bottom: 0;"><strong>Key Principle:</strong> Build tools that directly support your users and admins. Don't build tools "just in case" - wait for real needs to emerge.</p>
                </div>
            </section>
        </main>
    </div>

    <div class="back-to-top" id="backToTop" onclick="scrollToTop()">
        ‚Üë
    </div>

    <script>
        // Toggle collapsible sections
        function toggleCollapsible(element) {
            const collapsible = element.closest('.collapsible');
            collapsible.classList.toggle('open');
        }

        // Toggle mobile navigation
        function toggleMobileNav() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }

        // Close mobile nav when clicking outside
        document.getElementById('sidebar').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('mobile-open');
            }
        });

        // Smooth scroll to section
        document.querySelectorAll('.toc a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });

                    // Close mobile nav if open
                    document.getElementById('sidebar').classList.remove('mobile-open');

                    // Update active link
                    document.querySelectorAll('.toc a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // Back to top button
        const backToTop = document.getElementById('backToTop');

        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const mainContent = document.getElementById('mainContent');
        let originalContent = null;

        searchInput.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase().trim();

            if (searchTerm === '') {
                // Restore original content
                if (originalContent) {
                    mainContent.innerHTML = originalContent;
                    originalContent = null;
                    // Re-attach event listeners for collapsibles
                    attachCollapsibleListeners();
                }
                return;
            }

            // Save original content if not already saved
            if (!originalContent) {
                originalContent = mainContent.innerHTML;
            }

            // Get all text nodes and highlight matches
            const sections = mainContent.querySelectorAll('section');
            let matchFound = false;

            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    section.style.display = '';
                    matchFound = true;

                    // Highlight the search term
                    highlightText(section, searchTerm);
                } else {
                    section.style.display = 'none';
                }
            });

            if (!matchFound) {
                mainContent.innerHTML = '<div class="alert alert-warning">No results found for "' + e.target.value + '"</div>';
            }
        });

        function highlightText(element, searchTerm) {
            // Simple highlighting - walk through text nodes
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );

            const nodesToReplace = [];
            let node;

            while (node = walker.nextNode()) {
                if (node.textContent.toLowerCase().includes(searchTerm)) {
                    nodesToReplace.push(node);
                }
            }

            nodesToReplace.forEach(node => {
                const text = node.textContent;
                const regex = new RegExp(`(${searchTerm})`, 'gi');
                const highlighted = text.replace(regex, '<span class="highlight">$1</span>');

                const span = document.createElement('span');
                span.innerHTML = highlighted;
                node.parentNode.replaceChild(span, node);
            });
        }

        function attachCollapsibleListeners() {
            document.querySelectorAll('.collapsible-header').forEach(header => {
                header.addEventListener('click', function() {
                    toggleCollapsible(this);
                });
            });
        }

        // Active section highlighting in TOC
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    document.querySelectorAll('.toc a').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        // Observe all sections
        document.querySelectorAll('section[id]').forEach(section => {
            observer.observe(section);
        });

        // Initialize - open first collapsible in admin section
        document.addEventListener('DOMContentLoaded', function() {
            attachCollapsibleListeners();
        });
    </script>
</body>
</html>
