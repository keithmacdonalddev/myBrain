/**
 * =============================================================================
 * METRICCARD.CSS - Metric Card Component Styles
 * =============================================================================
 *
 * Styles for dashboard metric display cards.
 * Centered content with icon (optional), large value, and label.
 *
 * Features:
 * - Value: 1.5rem (24px), bold weight 700
 * - Icon: 1.5rem (24px)
 * - Label: 0.75rem (12px), uppercase, letter-spacing 0.05em
 * - Padding: 16px (--v2-spacing-lg)
 * - Border radius: 14px (--v2-radius-lg)
 * - Hover lift effect: translateY(-2px) with shadow
 * - Variants: default, danger (red), success (green), warning (orange)
 * - Loading state with skeleton animation
 * - Uses V2 CSS variables for theme consistency
 *
 * Dark mode colors (from prototype):
 * - Default value: #E5E5E5
 * - Danger value: #FF6B6B
 * - Success value: #4ADE80
 *
 * =============================================================================
 */

/* =============================================================================
   BASE METRIC CARD
   - Centered column layout
   - Subtle background with border radius
   - Smooth transitions
   - Hover lift effect on all cards
   ============================================================================= */

.v2-metric-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--v2-spacing-sm, 8px);
  padding: var(--v2-spacing-lg, 16px);
  background: var(--v2-bg-elevated);
  border-radius: var(--v2-radius-lg, 14px);
  transition: all 0.2s ease;
}

/* Hover lift effect - applies to all metric cards */
.v2-metric-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--v2-shadow-sm, 0 1px 3px rgba(0,0,0,0.08));
}

/* Clickable variant - add cursor */
.v2-metric-card--clickable {
  cursor: pointer;
}

/* Focus state for keyboard navigation */
.v2-metric-card--clickable:focus {
  outline: 2px solid var(--v2-accent-primary);
  outline-offset: 2px;
}

/* =============================================================================
   METRIC CARD ELEMENTS
   - Icon: Optional, displayed above value
   - Value: Large, bold number or percentage
   - Label: Small text below value
   ============================================================================= */

.v2-metric-card__icon {
  font-size: 1.5rem; /* 24px */
  line-height: 1;
}

.v2-metric-card__value {
  font-size: 1.5rem; /* 24px per prototype */
  font-weight: 700;
  line-height: 1.2;
  color: var(--v2-text-primary);
  transition: color 0.2s ease;
}

.v2-metric-card__label {
  font-size: 0.75rem; /* 12px */
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--v2-text-tertiary);
  text-align: center;
}

/* =============================================================================
   TYPE VARIANTS
   - default: Neutral color (text primary)
   - danger: Red/amber for overdue, critical items
   - success: Green for completed, positive metrics
   - warning: Orange for attention needed
   ============================================================================= */

/* Default - neutral text color */
.v2-metric-card--default .v2-metric-card__value {
  color: var(--v2-text-primary);
}

/* Danger - red/amber for critical items */
.v2-metric-card--danger .v2-metric-card__value {
  color: var(--v2-red, var(--danger));
}

/* In light mode, use warning color for softer impact */
:root:not(.dark) .v2-metric-card--danger .v2-metric-card__value {
  color: var(--warning);
}

/* Success - green for positive metrics */
.v2-metric-card--success .v2-metric-card__value {
  color: var(--v2-green, var(--success));
}

/* Warning - orange for attention needed */
.v2-metric-card--warning .v2-metric-card__value {
  color: var(--v2-orange, var(--warning));
}

/* =============================================================================
   DARK MODE ADJUSTMENTS
   - Ensure proper contrast with explicit colors from prototype
   - Adjust background for elevation hierarchy
   ============================================================================= */

.dark .v2-metric-card {
  background: var(--v2-bg-elevated);
}

/* Dark mode default value color - explicit high contrast */
.dark .v2-metric-card__value {
  color: #E5E5E5;
}

/* Dark mode danger color (brighter red for visibility) - prototype specified */
.dark .v2-metric-card--danger .v2-metric-card__value {
  color: #FF6B6B;
}

/* Dark mode success color - prototype specified */
.dark .v2-metric-card--success .v2-metric-card__value {
  color: #4ADE80;
}

/* Dark mode warning color */
.dark .v2-metric-card--warning .v2-metric-card__value {
  color: var(--v2-orange, var(--warning));
}

/* =============================================================================
   LOADING STATE
   - Skeleton placeholder animation
   - Maintains card dimensions while loading
   ============================================================================= */

.v2-metric-card--loading {
  pointer-events: none;
}

.v2-metric-card__skeleton {
  background: linear-gradient(
    90deg,
    var(--v2-bg-tertiary, #E5E5EA) 25%,
    var(--v2-bg-secondary, #F2F2F7) 50%,
    var(--v2-bg-tertiary, #E5E5EA) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
  border-radius: 4px;
  color: transparent !important;
}

.dark .v2-metric-card__skeleton {
  background: linear-gradient(
    90deg,
    var(--v2-bg-tertiary, #242424) 25%,
    var(--v2-bg-secondary, #1A1A1A) 50%,
    var(--v2-bg-tertiary, #242424) 75%
  );
  background-size: 200% 100%;
}

@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* =============================================================================
   RESPONSIVE ADJUSTMENTS
   - Smaller padding on mobile for compact layout
   ============================================================================= */

@media (max-width: 640px) {
  .v2-metric-card {
    padding: var(--v2-spacing-sm);
  }

  .v2-metric-card__value {
    font-size: 1.25rem; /* 20px on mobile */
  }

  .v2-metric-card__icon {
    font-size: 1.25rem; /* 20px on mobile */
  }
}
